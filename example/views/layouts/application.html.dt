<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{@default(title, "D_Server Application Example")}}</title>
    <meta name="description" content="{{@default(meta_description, "A D_Server web application")}}"/>
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>

    {{! Asset helpers with new function syntax }}
    {{{@favicon_link_tag("favicon.ico")}}}
    {{{@stylesheet_link_tag("css/app")}}}

</head>
<body>
    <div class="container mx-auto p-6 my-4 bg-white rounded-lg shadow-md">
        <header class="header">
            <h1>{{@default(title, "D_Server Application Example")}}</h1>
            <nav class="text-lg mt-4">
                {{{@link_to("Todos", "/todos", "rounded px-3 py-1 hover:bg-blue-100 text-blue-600 transition")}}}
            </nav>
        </header>

        <main>
            {{! Flash messages }}
            {{! Flash messages would be handled by controller logic }}

            {{! Main content }}
            {{{content}}}
        </main>

        <footer class="footer">
            <p>&copy; 2025 D_Server Application. Built with ❤️ using Dart.</p>
            <p><small>Generated at {{@formatDate(@current_time(),"yyyy-MM-dd")}}</small></p>
        </footer>
    </div>

    {{! Additional JavaScript }}
    {{{@javascript_include_tag("js/app")}}}
</body>
</html>
